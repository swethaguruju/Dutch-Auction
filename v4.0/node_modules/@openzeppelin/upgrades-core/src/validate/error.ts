import { ValidationError } from '@openzeppelin/upgrades-core/src/validate/run';
import { UpgradesError } from '@openzeppelin/upgrades-core/src/error';
import { UpgradeableContractErrorReport } from '@openzeppelin/upgrades-core/src/validate/report';

export class ValidationErrors extends UpgradesError {
  constructor(contractName: string, readonly errors: ValidationError[]) {
    super(`Contract \`${contractName}\` is not upgrade safe`, () =>
      new UpgradeableContractErrorReport(errors).explain(),
    );
  }
}

export class ContractSourceNotFoundError extends UpgradesError {
  constructor() {
    super('The requested contract was not found. Make sure the source code is available for compilation');
  }
}
